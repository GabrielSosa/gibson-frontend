"use strict";(self.webpackChunkadminto_react=self.webpackChunkadminto_react||[]).push([[2286],{13966:function(e,r,n){var a=n(29439),t=n(72791),s=n(39193),l=n(80184),c={display:"block",margin:"0 auto",borderColor:"red"};r.Z=function(e){var r=(0,t.useState)("#0351AA"),n=(0,a.Z)(r,1)[0];return(0,l.jsx)("div",{className:"container-loading",hidden:!e.loading,children:(0,l.jsx)(s.Z,{color:n,loading:e.loading,cssOverride:c,size:15})})}},9189:function(e,r,n){n.d(r,{Z:function(){return x}});var a=n(93433),t=n(1413),s=n(45987),l=n(29439),c=n(72791),i=n(71358),o=n(81694),u=n.n(o),d=n(23922),m=n(80184),p=function(e){var r=e.tableProps,n=e.sizePerPageList,a=(0,c.useState)(r.pageCount),t=(0,l.Z)(a,2),s=t[0],i=t[1],o=(0,c.useState)(r.state.pageIndex),p=(0,l.Z)(o,2),f=p[0],h=p[1];(0,c.useEffect)((function(){i(r.pageCount),h(r.state.pageIndex)}),[r.pageCount,r.state.pageIndex]);var g=(0,c.useCallback)((function(e,r){return e.filter((function(e){return e<=s}))}),[s]),x=(0,c.useCallback)((function(e,r){return r<7?g([1,2,3,4,5,6],r):e%5>=0&&e>4&&e+2<r?[1,e-1,e,e+1,r]:e%5>=0&&e>4&&e+2>=r?[1,r-3,r-2,r-1,r]:[1,2,3,4,5,r]}),[g]),b=function(e){if(e!==f+1){var n=x(e,s);N(g(n,s)),r.gotoPage(e-1)}};(0,c.useEffect)((function(){var e=x(null,s);N(e)}),[s,x]);var j=(0,c.useState)(x(null,s)),v=(0,l.Z)(j,2),Z=v[0],N=v[1],C=f+1;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[n.length>0&&(0,m.jsxs)("div",{className:"d-inline-block me-3",children:[(0,m.jsx)("label",{className:"me-1",children:"Mostrando :"}),(0,m.jsx)("select",{value:r.state.pageSize,onChange:function(e){r.setPageSize(Number(e.currentTarget.value))},className:"form-select d-inline-block w-auto",children:(n||[]).map((function(e,r){return(0,m.jsx)("option",{value:e.value,children:e.text},r.toString())}))})]}),(0,m.jsxs)("span",{className:"me-3",children:["P\xe1gina"," ",(0,m.jsxs)("strong",{children:[f+1," de ",r.pageOptions.length]})," "]}),(0,m.jsxs)("span",{className:"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2",children:[(0,m.jsx)("label",{className:"form-label",children:"Ir a la p\xe1gina: "}),(0,m.jsx)("input",{type:"number",value:f+1,min:"1",onChange:function(e){var n=e.currentTarget.value?Number(e.currentTarget.value)-1:0;r.gotoPage(n),h(r.state.pageIndex)},className:"form-control w-25 ms-1 d-inline-block"})]}),(0,m.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,m.jsx)("li",{className:u()("page-item","paginate_button","previous",{disabled:1===C}),onClick:function(){1!==C&&b(C-1)},children:(0,m.jsx)(d.rU,{to:"#",className:"page-link",children:(0,m.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(Z||[]).map((function(e,r,n){return n[r-1]+1<e?(0,m.jsxs)(c.Fragment,{children:[(0,m.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,m.jsx)(d.rU,{to:"#",className:"page-link",children:"..."})}),(0,m.jsx)("li",{className:u()("page-item","d-none","d-xl-inline-block",{active:C===e}),onClick:function(r){return b(e)},children:(0,m.jsx)(d.rU,{to:"#",className:"page-link",children:e})})]},e):(0,m.jsx)("li",{className:u()("page-item","d-none","d-xl-inline-block",{active:C===e}),onClick:function(r){return b(e)},children:(0,m.jsx)(d.rU,{to:"#",className:"page-link",children:e})},e)})),(0,m.jsx)("li",{className:u()("page-item","paginate_button","next",{disabled:C===r.pageCount}),onClick:function(){C!==r.pageCount&&b(C+1)},children:(0,m.jsx)(d.rU,{to:"#",className:"page-link",children:(0,m.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})},f=["indeterminate"],h=function(e){var r=e.preGlobalFilteredRows,n=e.globalFilter,a=e.setGlobalFilter,t=e.searchBoxClass,s=r.length,o=(0,c.useState)(n),d=(0,l.Z)(o,2),p=d[0],f=d[1],h=(0,i.useAsyncDebounce)((function(e){a(e||void 0)}),200);return(0,m.jsx)("div",{className:u()(t),children:(0,m.jsxs)("span",{className:"d-flex align-items-center",children:["Buscar :"," ",(0,m.jsx)("input",{type:"search",value:p||"",onChange:function(e){f(e.target.value),h(e.target.value)},placeholder:"".concat(s," registros..."),className:"form-control w-auto ms-1"})]})})},g=(0,c.forwardRef)((function(e,r){var n=e.indeterminate,a=(0,s.Z)(e,f),l=(0,c.useRef)(),i=r||l;return(0,c.useEffect)((function(){i.current.indeterminate=n}),[i,n]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",(0,t.Z)({type:"checkbox",className:"form-check-input",ref:i},a)),(0,m.jsx)("label",{htmlFor:"form-check-input",className:"form-check-label"})]})})})),x=function(e){var r=e.isSearchable||!1,n=e.isSortable||!1,s=e.pagination||!1,l=e.isSelectable||!1,c=e.isExpandable||!1,o=e.sizePerPageList||[],d={};r&&(d.useGlobalFilter=i.useGlobalFilter),n&&(d.useSortBy=i.useSortBy),c&&(d.useExpanded=i.useExpanded),s&&(d.usePagination=i.usePagination),l&&(d.useRowSelect=i.useRowSelect);var f=(0,i.useTable)({columns:e.columns,data:e.data,initialState:{pageSize:e.pageSize||10}},d.hasOwnProperty("useGlobalFilter")&&d.useGlobalFilter,d.hasOwnProperty("useSortBy")&&d.useSortBy,d.hasOwnProperty("useExpanded")&&d.useExpanded,d.hasOwnProperty("usePagination")&&d.usePagination,d.hasOwnProperty("useRowSelect")&&d.useRowSelect,(function(e){l&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var r=e.getToggleAllPageRowsSelectedProps;return(0,m.jsx)("div",{children:(0,m.jsx)(g,(0,t.Z)({},r()))})},Cell:function(e){var r=e.row;return(0,m.jsx)("div",{children:(0,m.jsx)(g,(0,t.Z)({},r.getToggleRowSelectedProps()))})}}].concat((0,a.Z)(e))})),c&&e.visibleColumns.push((function(e){return[{id:"expander",Header:function(e){var r=e.getToggleAllRowsExpandedProps,n=e.isAllRowsExpanded;return(0,m.jsx)("span",(0,t.Z)((0,t.Z)({},r()),{},{children:n?"-":"+"}))},Cell:function(e){var r=e.row;return r.canExpand?(0,m.jsx)("span",(0,t.Z)((0,t.Z)({},r.getToggleRowExpandedProps({style:{paddingLeft:"".concat(2*r.depth,"rem")}})),{},{children:r.isExpanded?"-":"+"})):null}}].concat((0,a.Z)(e))}))})),x=s?f.page:f.rows;return(0,m.jsxs)(m.Fragment,{children:[r&&(0,m.jsx)(h,{preGlobalFilteredRows:f.preGlobalFilteredRows,globalFilter:f.state.globalFilter,setGlobalFilter:f.setGlobalFilter,searchBoxClass:e.searchBoxClass}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",(0,t.Z)((0,t.Z)({},f.getTableProps()),{},{className:u()("table table-centered react-table",e.tableClass),children:[(0,m.jsx)("thead",{className:e.theadClass,children:(f.headerGroups||[]).map((function(e){return(0,m.jsx)("tr",(0,t.Z)((0,t.Z)({},e.getHeaderGroupProps()),{},{children:(e.headers||[]).map((function(e){return(0,m.jsx)("th",(0,t.Z)((0,t.Z)({},e.getHeaderProps(e.sort&&e.getSortByToggleProps())),{},{className:u()({sorting_desc:!0===e.isSortedDesc,sorting_asc:!1===e.isSortedDesc,sortable:!0===e.sort}),children:e.render("Header")}))}))}))}))}),(0,m.jsx)("tbody",(0,t.Z)((0,t.Z)({},f.getTableBodyProps()),{},{children:(x||[]).map((function(e,r){return f.prepareRow(e),(0,m.jsx)("tr",(0,t.Z)((0,t.Z)({},e.getRowProps()),{},{children:(e.cells||[]).map((function(e){return(0,m.jsx)("td",(0,t.Z)((0,t.Z)({},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}))}))}))}))}))]}))}),s&&(0,m.jsx)(p,{tableProps:f,sizePerPageList:o})]})}},9823:function(e,r,n){var a=n(1413),t=n(29439),s=n(45987),l=n(72791),c=n(99410),i=n(21827),o=n(81694),u=n.n(o),d=n(80184),m=["name","placeholder","refCallback","errors","control","register","className"],p=["type","name","placeholder","endIcon","register","errors","comp","rows","className","refCallback"],f=["type","label","name","placeholder","register","errors","comp","rows","className","refCallback"],h=["type","label","name","placeholder","register","errors","comp","className","children","refCallback"],g=["label","type","name","placeholder","endIcon","register","errors","control","className","labelClassName","containerClass","refCallback","children","action","rows"],x=function(e){var r=e.name,n=e.placeholder,o=e.refCallback,p=e.errors,f=(e.control,e.register),h=e.className,g=(0,s.Z)(e,m),x=(0,l.useState)(!1),b=(0,t.Z)(x,2),j=b[0],v=b[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(c.Z,{className:"mb-0",children:[(0,d.jsx)(i.Z.Control,(0,a.Z)((0,a.Z)({type:j?"text":"password",placeholder:n,name:r,id:r,as:"input",ref:function(e){o&&o(e)},className:h,isInvalid:!(!p||!p[r])},f?f(r):{}),{},{autoComplete:r},g)),(0,d.jsx)("div",{className:u()("input-group-text","input-group-password",{"show-password":j}),"data-password":j?"true":"false",children:(0,d.jsx)("span",{className:"password-eye",onClick:function(){v(!j)}})})]}),p&&p[r]?(0,d.jsx)(i.Z.Control.Feedback,{type:"invalid",className:"d-block",children:p[r].message}):null]})},b=function(e){var r=e.type,n=e.name,t=e.placeholder,l=e.endIcon,c=e.register,o=e.errors,u=e.comp,m=e.rows,f=e.className,h=e.refCallback,g=(0,s.Z)(e,p);return(0,d.jsx)(d.Fragment,{children:"password"===r&&l?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(x,(0,a.Z)({name:n,placeholder:t,refCallback:h,errors:o,register:c,className:f},g))}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z.Control,(0,a.Z)((0,a.Z)({type:r,placeholder:t,name:n,as:u,id:n,ref:function(e){h&&h(e)},className:f,isInvalid:!(!o||!o[n])},c?c(n):{}),{},{rows:m},g)),o&&o[n]?(0,d.jsx)(i.Z.Control.Feedback,{type:"invalid",className:"d-block",children:o[n].message}):null]})})},j=function(e){var r=e.type,n=e.label,t=e.name,l=(e.placeholder,e.register),c=e.errors,o=(e.comp,e.rows,e.className),u=e.refCallback,m=(0,s.Z)(e,f);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z.Check,(0,a.Z)((0,a.Z)({type:r,label:n,name:t,id:t,ref:function(e){u&&u(e)},className:o,isInvalid:!(!c||!c[t])},l?l(t):{}),m)),c&&c[t]?(0,d.jsx)(i.Z.Control.Feedback,{type:"invalid",className:"d-block",children:c[t].message}):null]})},v=function(e){var r=e.type,n=e.label,t=e.name,l=(e.placeholder,e.register),c=e.errors,o=(e.comp,e.className),u=e.children,m=e.refCallback,p=(0,s.Z)(e,h);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z.Select,(0,a.Z)((0,a.Z)({type:r,label:n,name:t,id:t,ref:function(e){m&&m(e)},children:u,className:o,isInvalid:!(!c||!c[t])},l?l(t):{}),p)),c&&c[t]?(0,d.jsx)(i.Z.Control.Feedback,{type:"invalid",children:c[t].message}):null]})};r.Z=function(e){var r=e.label,n=e.type,t=e.name,l=e.placeholder,c=e.endIcon,o=e.register,u=e.errors,m=(e.control,e.className),p=e.labelClassName,f=e.containerClass,h=e.refCallback,x=e.children,Z=e.action,N=e.rows,C=(0,s.Z)(e,g),y="textarea"===n?"textarea":"select"===n?"select":"input",k=void 0===c||c;return(0,d.jsx)(d.Fragment,{children:"hidden"===n?(0,d.jsx)("input",(0,a.Z)((0,a.Z)({type:n,name:t},o?o(t):{}),C)):(0,d.jsx)(d.Fragment,{children:"select"===n?(0,d.jsxs)(i.Z.Group,{className:f,children:[r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z.Label,{className:p,children:r}),Z&&Z]}):null,(0,d.jsx)(v,(0,a.Z)({type:n,name:t,placeholder:l,refCallback:h,errors:u,register:o,comp:y,className:m,children:x},C))]}):(0,d.jsx)(d.Fragment,{children:"checkbox"===n||"radio"===n?(0,d.jsx)(i.Z.Group,{className:f,children:(0,d.jsx)(j,(0,a.Z)({type:n,label:r,name:t,placeholder:l,refCallback:h,errors:u,register:o,comp:y,className:m,rows:N},C))}):(0,d.jsxs)(i.Z.Group,{className:f,children:[r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z.Label,{className:p,children:r}),Z&&Z]}):null,(0,d.jsx)(b,(0,a.Z)({type:n,name:t,placeholder:l,endIcon:k,refCallback:h,errors:u,register:o,comp:y,className:m,rows:N},C))]})})})})}},95262:function(e,r,n){n.d(r,{y:function(){return i.Z},J:function(){return c}});var a=n(1413),t=n(72791),s=n(61134),l=n(80184),c=function(e){var r=e.defaultValues,n=e.resolver,c=e.children,i=e.onSubmit,o=e.formClass,u=(0,s.cI)({defaultValues:r,resolver:n}),d=u.handleSubmit,m=u.register,p=u.control,f=u.formState.errors;return(0,l.jsx)("form",{onSubmit:d(i),className:o,noValidate:!0,children:Array.isArray(c)?c.map((function(e){return e.props&&e.props.name?t.createElement(e.type,(0,a.Z)({},(0,a.Z)((0,a.Z)({},e.props),{},{register:m,key:e.props.name,errors:f,control:p}))):e})):c})},i=n(9823)},37893:function(e,r,n){n.d(r,{Ae:function(){return t},T$:function(){return s},c3:function(){return l},Mx:function(){return c},o_:function(){return i},cV:function(){return o},dI:function(){return u},Ug:function(){return d},lv:function(){return m},XU:function(){return p},Uy:function(){return f},Vg:function(){return h},kj:function(){return g},cn:function(){return x},Nq:function(){return b},Rf:function(){return j},eR:function(){return v},_y:function(){return Z},kZ:function(){return N},EW:function(){return C}});var a=new(n(42738).u);function t(e){return a.create("".concat("/vehicleType/create"),e)}function s(e){return a.updatePatch("".concat("/vehicleType/update"),e)}function l(e){return a.get("".concat("/vehicleTypes"),e)}function c(e){return a.updatePatch("".concat("/updateSarSetting"),e)}function i(e){return a.create("".concat("/updateBranch"),e)}function o(e){return a.get("".concat("/vehicleFields"),e)}function u(e){return a.get("".concat("/getVehicleTypeById"),e)}function d(e){return a.updatePatch("".concat("/evaluationItem/update"),e)}function m(e){return a.create("".concat("/evaluationItem/create"),e)}function p(e){return a.create("".concat("/evaluationList/create"),e)}function f(e){return a.updatePatch("".concat("/inspectionItem/update"),e)}function h(e){return a.create("".concat("/inspectionItem/create"),e)}function g(e){return a.create("".concat("/inspectionList/create"),e)}function x(e){return a.create("".concat("/user/create"),e)}function b(e){return a.updatePatch("".concat("/user/update"),e)}function j(){return a.get("".concat("/users"),{})}function v(){return a.get("".concat("/userTypes"),{})}function Z(e){return a.create("".concat("/insurer/create"),e)}function N(e){return a.updatePatch("".concat("/insurer/update"),e)}function C(){return a.get("".concat("/insurers"),{})}},52286:function(e,r,n){n.r(r),n.d(r,{default:function(){return F}});var a=n(15861),t=n(29439),s=n(64687),l=n.n(s),c=n(89743),i=n(2677),o=n(9140),u=n(9189),d=n(23922),m=n(51649),p=n(72791),f=n(13966),h=n(37893),g=n(1413),x=n(95316),b=n(21827),j=n(43360),v=n(95262),Z=n(61265),N=n(76863),C=n(10623),y=n(21830),k=n.n(y),w=n(80184),S=function(e){var r,n=e.insurer,s=e.toggle,c=e.modal,i=e.action,o=(0,p.useState)([]),u=(0,t.Z)(o,2),d=u[0],m=u[1],f=(0,Z.X)(N.Ry().shape({name:N.Z_().required("Por ingrese el nombre")})),y=function(){return"edit"===i?"Editar":"Agregar"};return(0,w.jsxs)(x.Z,{show:c,onHide:function(){s()},centered:!0,children:[(0,w.jsx)(x.Z.Header,{closeButton:!0,children:(0,w.jsxs)(x.Z.Title,{as:"h4",children:[y()," aseguradora"]})}),(0,w.jsx)(x.Z.Body,{children:(0,w.jsxs)(v.J,{onSubmit:function(){var e=(0,a.Z)(l().mark((function e(r){var a,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r),a={name:r.name,status:"Activo"},d.length>0&&(a.emails=d.join(",")),"edit"!==i){e.next=10;break}return a.insurerId=n.insurer_id,e.next=7,(0,h.kZ)(a);case 7:t=e.sent,e.next=13;break;case 10:return e.next=12,(0,h._y)(a);case 12:t=e.sent;case 13:200===t.data.meta.code?(k().fire("Exito","Cliente guardado correctamente","success"),s((0,g.Z)((0,g.Z)({},r),{},{insurer_id:t.data.data.insurer_id}))):k().fire("Error",t.data.data.error.message,"error");case 14:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),resolver:f,defaultValues:(0,g.Z)({},n),children:[(0,w.jsx)(v.y,{label:"Nombre",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3"}),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(b.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,w.jsx)(b.Z.Label,{children:"Correos"}),(0,w.jsx)(C.B,{value:null===(r=n.emails)||void 0===r?void 0:r.split(",").filter((function(e){return""!==e})),onChange:m,name:"emails",placeHolder:"Agregue correos"})]})}),(0,w.jsx)(j.Z,{variant:"primary",className:"waves-effect waves-light me-1 rounded-pill",type:"submit",children:y()}),(0,w.jsx)(j.Z,{variant:"light",className:"waves-effect waves-light rounded-pill",onClick:function(){s()},children:"Cancelar"})]})})]})},P=[{text:"5",value:5},{text:"10",value:10},{text:"25",value:25}],F=function(){var e=(0,p.useState)(!1),r=(0,t.Z)(e,2),n=r[0],s=r[1],g=(0,p.useState)("create"),x=(0,t.Z)(g,2),b=x[0],j=x[1],v=(0,p.useState)({}),Z=(0,t.Z)(v,2),N=Z[0],C=Z[1],y=(0,p.useState)([]),k=(0,t.Z)(y,2),F=k[0],I=k[1],E=(0,p.useState)(!1),R=(0,t.Z)(E,2),T=R[0],_=R[1],A=[{Header:"ID",accessor:"insurer_id",sort:!0},{Header:"Nombre",accessor:"name",sort:!0},{Header:"Correo",accessor:"emails",sort:!0},{Header:"Acciones",id:"edit",accessor:"customer_id",Cell:function(e){var r=e.row.original;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("button",{className:"btn btn-blue mr-2",onClick:function(){G(r.insurer_id)},children:(0,w.jsx)("i",{className:"mdi mdi-lead-pencil"})})})}}],B=function(e){e&&H(),s(!n)},G=function(){var e=(0,a.Z)(l().mark((function e(r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=F.find((function(e){return e.insurer_id===r})),C(n),j("edit"),B();case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();(0,m.Tt)({title:"Aseguradoras",breadCrumbItems:[{path:"/settings/",label:"Configuraci\xf3n"},{path:"/settings/Insurers",label:"Aseguradoras",active:!0}]});var H=function(){var e=(0,a.Z)(l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,(0,h.EW)();case 3:r=e.sent,console.log(r.data),I(r.data.data),_(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){H()}),[]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.Z,{children:(0,w.jsx)(i.Z,{sm:4,children:(0,w.jsxs)(d.rU,{to:"#",onClick:function(){j("add"),C({}),s(!0)},className:"btn btn-blue rounded-pill w-md waves-effect waves-light mb-3",children:[(0,w.jsx)("i",{className:"mdi mdi-plus me-1"}),"Agregar"]})})}),(0,w.jsx)(c.Z,{children:(0,w.jsx)(i.Z,{children:(0,w.jsx)(o.Z,{children:(0,w.jsxs)(o.Z.Body,{children:[(0,w.jsx)("h4",{className:"header-title",children:"Lista de aseguradoras"}),(0,w.jsx)(u.Z,{columns:A,data:F,pageSize:5,sizePerPageList:P,isSortable:!0,pagination:!0,isSearchable:!0})]})})})}),(0,w.jsx)(f.Z,{loading:T}),(0,w.jsx)(S,{insurer:N,toggle:B,action:b,modal:n})]})}}}]);
//# sourceMappingURL=2286.c54b8811.chunk.js.map