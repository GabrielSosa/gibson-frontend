"use strict";(self.webpackChunkadminto_react=self.webpackChunkadminto_react||[]).push([[5048],{8851:function(e,a,n){var t=n(1413),r=n(93433),s=n(29439),i=n(72791),c=n(23922),l=n(9140),o=n(89743),d=n(2677),u=n(21827),h=n(18267),p=n(80184),m=(0,i.forwardRef)((function(e,a){var n=(0,i.useState)([]),m=(0,s.Z)(n,2),x=m[0],v=m[1];(0,i.useImperativeHandle)(a,(function(){return{clearFiles:function(){v([])}}}));var f=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,t=a<0?0:a,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,s)).toFixed(t))+" "+r[s]},Z=function(e){var a=(0,r.Z)(x);a.splice(e,1),v(a)};return(0,i.useEffect)((function(){e.onFileUpload&&e.onFileUpload(x)}),[x,e]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h.ZP,(0,t.Z)((0,t.Z)({},e),{},{useFsAccessApi:!1,onDrop:function(a){return function(a){var n,t=a;e.showPreview&&((a||[]).map((function(e,a){return Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:f(e.size),newName:Date.now()+"_"+a+"."+e.name.split(".")[1]})})),(n=t=(0,r.Z)(x)).push.apply(n,(0,r.Z)(a)),v(t))}(a)},children:function(a){var n=a.getRootProps,r=a.getInputProps;return(0,p.jsx)("div",{className:"dropzone mb-3 mt-3",children:(0,p.jsxs)("div",(0,t.Z)((0,t.Z)({className:"dz-message needsclick"},n()),{},{children:[(0,p.jsx)("input",(0,t.Z)({},r())),(0,p.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,p.jsx)("h4",{children:e.label||"Drop files here or click to upload."})]}))})}})),!e.multi&&x.length>0&&(0,p.jsx)("div",{children:(0,p.jsxs)(l.Z,{className:"mt-3 mb-3 shadow-none border charge-image-container",children:[(0,p.jsx)("div",{className:"remove",onClick:function(){return Z(0)},children:(0,p.jsx)("i",{className:"mdi mdi-trash-can-outline"})}),(0,p.jsx)("img",{className:"charge-image",alt:x[0].name,src:x[0].preview})]})}),e.multi&&e.showPreview&&(0,p.jsx)("div",{className:"dropzone-previews",id:"uploadPreviewTemplate",children:(x||[]).map((function(e,a){return(0,p.jsx)(l.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,p.jsx)("div",{className:"p-2",children:(0,p.jsxs)(o.Z,{className:"",children:[e.preview&&(0,p.jsx)(d.Z,{className:"col-auto",children:(0,p.jsx)("img",{"data-dz-thumbnail":"",className:"avatar rounded bg-light file-preview",alt:e.name,src:e.preview})}),!e.preview&&(0,p.jsx)(d.Z,{className:"col-auto",children:(0,p.jsx)("div",{className:"avatar-sm",children:(0,p.jsx)("span",{className:"avatar-title bg-primary rounded",children:e.type.split("/")[0]})})}),(0,p.jsxs)(d.Z,{className:"ps-0",children:[(0,p.jsxs)(u.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,p.jsx)(u.Z.Label,{children:"Descripcion"}),(0,p.jsx)(u.Z.Control,{required:!0,type:"text",placeholder:"Describe la foto aqui",onChange:function(a){v((0,r.Z)(x.map((function(n){return n.newName===e.newName&&(n.description=a.target.value),n}))))}})]}),(0,p.jsx)(c.rU,{to:"#",className:"text-muted fw-bold",children:e.newName}),(0,p.jsx)("p",{className:"mb-0",children:(0,p.jsx)("strong",{children:e.formattedSize})})]}),(0,p.jsx)(d.Z,{className:"text-end col-1",children:(0,p.jsx)(c.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,p.jsx)("i",{className:"dripicons-cross",onClick:function(){return Z(a)}})})})]})})},a+"-file")}))})]})}));m.defaultProps={showPreview:!0},a.Z=m},85048:function(e,a,n){n.r(a);var t=n(15861),r=n(1413),s=n(29439),i=n(64687),c=n.n(i),l=n(89743),o=n(2677),d=n(9140),u=n(17858),h=n(21827),p=n(99410),m=n(51649),x=n(85066),v=n(23922),f=n(72791),Z=n(97637),j=n(95262),b=n(8851),g=n(11796),w=n(21830),y=n.n(w),_=n(51691),N=n(37893),C=n(90260),k=n(51276),E=n.n(k),B=n(3911),I=n(13966),S=n(80184);a.default=function(){var e,a,n,i=(0,f.useRef)(),w=(0,f.useRef)(),k={buysell:"Compra venta",agency:"Agencia",guaranty:"Garantia",repair:"Reparacion",insurance:"Seguros"},D=(0,f.useState)([]),R=(0,s.Z)(D,2),U=R[0],L=R[1],F=(0,f.useState)({}),P=(0,s.Z)(F,2),M=P[0],G=P[1],T=(0,f.useState)([]),A=(0,s.Z)(T,2),z=A[0],O=A[1],K=(0,f.useState)([]),Y=(0,s.Z)(K,2),q=Y[0],H=Y[1],V=(0,f.useState)([]),Q=(0,s.Z)(V,2),J=Q[0],W=Q[1],X=(0,f.useState)([]),$=(0,s.Z)(X,2),ee=$[0],ae=$[1],ne=(0,f.useState)([]),te=(0,s.Z)(ne,2),re=te[0],se=te[1],ie=(0,f.useState)([]),ce=(0,s.Z)(ie,2),le=ce[0],oe=ce[1],de=(0,f.useState)([]),ue=(0,s.Z)(de,2),he=ue[0],pe=ue[1],me=(0,f.useState)(!1),xe=(0,s.Z)(me,2),ve=xe[0],fe=xe[1],Ze=(0,f.useState)([]),je=(0,s.Z)(Ze,2),be=je[0],ge=je[1],we=(0,x.s0)(),ye=(0,f.useState)(!1),_e=(0,s.Z)(ye,2),Ne=_e[0],Ce=_e[1],ke=(0,f.useState)(!1),Ee=(0,s.Z)(ke,2),Be=Ee[0],Ie=Ee[1],Se=(0,f.useState)(!1),De=(0,s.Z)(Se,2),Re=De[0],Ue=De[1],Le=(0,f.useState)(!1),Fe=(0,s.Z)(Le,2),Pe=Fe[0],Me=Fe[1],Ge=(0,x.UO)(),Te=(0,m.aF)(),Ae=(0,s.Z)(Te,1)[0];(0,m.Tt)({title:"Evaluacion Fisica",breadCrumbItems:[{path:"/appraisal/appraisal/appraisal-detail",label:"Avaluos"},{path:"/appraisal/appraisal/appraisal-detail",label:"Evaluacion Fisica",active:!0}]});var ze=function(e){e.length>0?(ae(e),G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{brand:e[0].Make_Name})})),Ye(e[0].Make_ID),oe([])):ae([])},Oe=function(e){e.length>0?(oe(e),G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{model:e[0].Model_Name})}))):oe([])},Ke=function(){var e=(0,t.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.v)({});case 2:a=e.sent,W(a.data.Results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,t.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.U)(a);case 2:n=e.sent,se(n.data.Results);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),qe=function(){var e=(0,t.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.cV)({vehicleTypeId:a});case 2:n=e.sent,ge(n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),He=function(e){e.length>0?(qe(e[0].vehicle_type_id),H(e),G((0,r.Z)((0,r.Z)({},M),{},{vehicle_type:(0,r.Z)((0,r.Z)({},M.vehicle_type),{},{vector:e[0].vector}),vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{vehicle_type_id:e[0].vehicle_type_id})}))):H([])},Ve=function(){var e=(0,t.Z)(c().mark((function e(a){var n,t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),e.next=3,Qe();case 3:return e.next=5,Ke();case 5:return w.current.clear(),e.next=8,(0,g.Qg)({appraisalId:a});case 8:return 200===(n=e.sent).data.meta.code?L(n.data.data):y().fire("Error",n.data.data.error.message,"error"),e.next=12,(0,g.kO)({appraisalId:a});case 12:if(200!==(t=e.sent).data.meta.code){e.next=22;break}return He([t.data.data.vehicle_type]),ze([{Make_ID:99999,Make_Name:t.data.data.vehicle.brand}]),Oe([{Model_ID:99999,Model_Name:t.data.data.vehicle.model}]),G(t.data.data),e.next=20,Je(t.data.data.sign_url);case 20:r=e.sent,w&&w.current.fromDataURL(r,{ratio:1,width:500,height:200,xOffset:0,yOffset:0});case 22:fe(!1);case 23:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,t.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.c3)({});case 2:a=e.sent,O(a.data.data.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{status_color:"success"})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=(0,t.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return n=e.sent,e.next=5,n.blob();case 5:return t=e.sent,e.abrupt("return",new Promise((function(e){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var n=a.result;e(n)}})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),We=function(e){for(var a=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(a.length),r=new Uint8Array(t),s=0;s<a.length;s++)r[s]=a.charCodeAt(s);return new Blob([t],{type:n})};return(0,f.useEffect)((function(){Ve(Ge.id)}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.Z,{style:{marginTop:"70px"},children:(0,S.jsx)(o.Z,{lg:12,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsxs)("h4",{className:"header-title",onClick:function(){return Ce(!Ne)},children:[" ",(0,S.jsx)("i",{className:Ne?"mdi mdi-chevron-down me-1":"mdi mdi-chevron-right me-1"})," Informacion Personal"]}),(0,S.jsx)(u.Z,{in:Ne,children:(0,S.jsxs)("div",{children:[(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(o.Z,{lg:6,children:(0,S.jsx)(j.y,{label:"Solicitante",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:(M.customer||{}).name||"",disabled:!0})}),(0,S.jsx)(o.Z,{lg:6,children:(0,S.jsx)(j.y,{label:"Telefono",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:(M.customer||{}).phone||"",disabled:!0})})]}),(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(o.Z,{lg:6,children:(0,S.jsx)(j.y,{label:"Entrega de vehiculo a",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:M.vehicle_name||"",disabled:!0})}),(0,S.jsx)(o.Z,{lg:6,children:(0,S.jsx)(j.y,{label:"Telefono",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:M.vehicle_phone||"",disabled:!0})})]}),(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(o.Z,{lg:6,children:(0,S.jsx)(j.y,{label:"Entrega de informe a",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:M.report_name||"",disabled:!0})}),(0,S.jsx)(o.Z,{lg:6,children:(0,S.jsx)(j.y,{label:"Telefono",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:M.report_phone||"",disabled:!0})})]}),(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(o.Z,{lg:4,children:(0,S.jsx)(j.y,{label:"Proposito",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:(M.purposes||"").split(",").map((function(e){return k[e]})).join(","),disabled:!0})}),M.insurance_id>0&&(0,S.jsx)(o.Z,{lg:4,children:(0,S.jsx)(j.y,{label:"Seguro en",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:(M.insurer||{}).name||"",disabled:!0})}),(0,S.jsx)(o.Z,{lg:4,children:(0,S.jsx)(j.y,{label:"Metodo de pago",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3",value:{card:"Tarjeta",cash:"Efectivo",credit:"Credito"}[M.payment_method]||"",disabled:!0})})]})]})})]})})})}),(0,S.jsx)(l.Z,{children:(0,S.jsx)(o.Z,{lg:12,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsxs)("h4",{className:"header-title",onClick:function(){return Ie(!Be)},children:[" ",(0,S.jsx)("i",{className:Be?"mdi mdi-chevron-down me-1":"mdi mdi-chevron-right me-1"})," Informacion del vehiculo"]}),(0,S.jsx)(u.Z,{in:Be,children:(0,S.jsx)("div",{children:(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"Tipo de vehiculo"}),(0,S.jsx)(Z.pY,{id:"vehicleType",labelKey:"name",multiple:!1,maxResults:4,onChange:He,options:z,placeholder:"Escoge un tipo de vehiculo",selected:q,disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"miles"===(M.vehicle||{}).miles_type?"Millaje":"Kilometraje"}),(0,S.jsxs)(p.Z,{className:"mb-2",children:[(0,S.jsx)(p.Z.Text,{onClick:function(){"En recepci\xf3n"===M.status&&G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{miles_type:"miles"===(M.vehicle||{}).miles_type?"km":"miles"})}))},children:"miles"===(M.vehicle||{}).miles_type?"Mi":"Km"}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(M.vehicle||{}).miles||"",type:"text",onChange:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{miles:a.target.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"Placa"}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(M.vehicle||{}).plate||"",type:"text",onChange:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{plate:a.target.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"VIN"}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(M.vehicle||{}).vin||"",type:"text",onChange:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{vin:a.target.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),onBlur:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Sb)({vin:M.vehicle.vin});case 2:if(!e.sent.data.data.vehicle_id){e.next=6;break}return e.next=6,y().fire({title:"Ya existe un vehiculo con esta vin",icon:"info",showCancelButton:!0,confirmButtonColor:"#28bb4b",cancelButtonColor:"#f34e4e",confirmButtonText:"Entendido"});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"Marca"}),(0,S.jsx)(Z.pY,{id:"brand",labelKey:"Make_Name",multiple:!1,maxResults:4,options:J,allowNew:!0,onChange:ze,placeholder:"Escoge una marca...",selected:ee,disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"Modelo"}),(0,S.jsx)(Z.pY,{id:"model",labelKey:"Model_Name",multiple:!1,maxResults:4,options:re,allowNew:!0,onChange:Oe,selected:le,placeholder:"Escoge un modelo...",disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"Motor"}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(M.vehicle||{}).motor||"",type:"text",onChange:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{motor:a.target.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"A\xf1o"}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(M.vehicle||{}).year||"",type:"text",onChange:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{year:a.target.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"Rines"}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(M.vehicle||{}).wheels||"",type:"text",onChange:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{wheels:a.target.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})}),(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:"Equipo de sonido"}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(M.vehicle||{}).eq_sound||"",type:"text",onChange:function(){var e=(0,t.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{eq_sound:a.target.value})}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})]})}),be.map((function(e,a){return(0,S.jsx)(o.Z,{lg:3,children:(0,S.jsxs)(h.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,S.jsx)(h.Z.Label,{children:e.name}),(0,S.jsx)(h.Z.Control,{disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:(((M.vehicle||{}).fields||{})[e.name]||{}).value||"",type:"text",onChange:function(){var a=(0,t.Z)(c().mark((function a(n){var t;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(t=(0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)({},M.vehicle)})).vehicle.fields[e.name]?t.vehicle.fields[e.name].value=n.target.value:t.vehicle.fields[e.name]={value:n.target.value},G(t);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()})]})},a)}))]})})})]})})})}),(0,S.jsx)(l.Z,{children:(0,S.jsx)(o.Z,{lg:12,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsxs)("h4",{className:"header-title",onClick:function(){return Me(!Pe)},children:[" ",(0,S.jsx)("i",{className:Pe?"mdi mdi-chevron-down me-1":"mdi mdi-chevron-right me-1"})," Anexos de recepcion"]}),(0,S.jsx)(u.Z,{in:Pe,children:(0,S.jsx)("div",{className:"anexos-list",children:null===(e=M.attacheds)||void 0===e?void 0:e.filter((function(e){return"reception"===e.type})).map((function(e){return(0,S.jsxs)("div",{className:"anexo-item",children:[(0,S.jsx)("div",{className:"description",children:"undefined"===e.description?"":e.description}),(0,S.jsx)("div",{className:"img-container",children:(0,S.jsx)("img",{src:e.url,alt:""})})]},e.id)}))})})]})})})}),(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(o.Z,{lg:4,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsx)("h4",{className:"header-title",children:"Lista de evaluaci\xf3n"}),(0,S.jsx)("div",{className:"appraisal-list",children:Object.keys(U).map((function(e){return(0,S.jsxs)("div",{className:"appraisal-item",children:[(0,S.jsx)("div",{className:"appraisal-name",children:(0,S.jsx)("h4",{children:e})}),(0,S.jsxs)("table",{className:"fit-table",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{children:"Descripcion "}),U[e][0]&&U[e][0].columns?U[e][0].columns.split(",").map((function(e,a){return(0,S.jsx)("th",{className:"verticalTableHeader",children:e},a)})):(0,S.jsx)(S.Fragment,{})]})}),(0,S.jsx)("tbody",{children:U[e].map((function(a,n){return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{style:{textAlign:"left"},children:a.name}),"check"===a.type&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("td",{children:(0,S.jsx)(h.Z.Group,{className:"mb-1 ms-2",children:(0,S.jsx)(h.Z.Check,{checked:a.has,disabled:a.not_has||"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,type:"checkbox",id:n,name:"customRadio"+n,onChange:function(a){var t=(0,r.Z)({},U);t[e]=U[e].map((function(e,t){return t===n?(0,r.Z)((0,r.Z)({},e),{},{has:a.target.checked,fix:a.target.checked&&e.fix||!1}):e})),L(t)}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(h.Z.Group,{className:"mb-1 ms-2",children:(0,S.jsx)(h.Z.Check,{checked:a.not_has,disabled:a.has||"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,type:"checkbox",id:n,name:"customRadio"+n,onChange:function(a){var t=(0,r.Z)({},U);t[e]=U[e].map((function(e,t){return t===n?(0,r.Z)((0,r.Z)({},e),{},{not_has:a.target.checked}):e})),L(t)}})})}),(0,S.jsx)("td",{children:(0,S.jsx)(h.Z.Group,{className:"mb-1 ms-2",children:(0,S.jsx)(h.Z.Check,{checked:a.fix,disabled:!a.has||"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,type:"checkbox",id:n,name:"customRadio"+n,onChange:function(a){var t=(0,r.Z)({},U);t[e]=U[e].map((function(e,t){return t===n?(0,r.Z)((0,r.Z)({},e),{},{fix:!!e.has&&a.target.checked}):e})),L(t)}})})})]}),"input"===a.type&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("td",{colSpan:6,children:(0,S.jsx)(h.Z.Group,{children:(0,S.jsx)(h.Z.Control,{value:a.value,disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,type:"text",id:n,name:"customRadio"+n,onChange:function(a){var t=(0,r.Z)({},U);t[e]=U[e].map((function(e,t){return t===n?(0,r.Z)((0,r.Z)({},e),{},{value:a.target.value}):e})),L(t)}})})})}),"option"===a.type&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("td",{colSpan:6,children:(0,S.jsxs)(j.y,{type:"select",name:"air_bags",className:"form-select",disabled:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,value:a.value,onChange:function(){var a=(0,t.Z)(c().mark((function a(t){var s;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:G((0,r.Z)((0,r.Z)({},M),{},{vehicle:(0,r.Z)((0,r.Z)({},M.vehicle),{},{air_bags:t.target.value})})),(s=(0,r.Z)({},U))[e]=U[e].map((function(e,a){return a===n?(0,r.Z)((0,r.Z)({},e),{},{value:t.target.value}):e})),L(s);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),children:[(0,S.jsx)("option",{value:"",children:"Seleccionar"}),a.options.split(",").map((function(e,a){return(0,S.jsx)("option",{value:e,children:e},a+"kc")}))]},"select0")})})]},a.name+n)}))})]})]},e)}))})]})})}),(0,S.jsx)(o.Z,{lg:8,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsx)("h4",{className:"header-title",children:"Inspeccion Fisica"}),(0,S.jsx)(_.Z,{appraisalId:Ge.id,allowEdit:"En recepci\xf3n"===M.status&&M.valuated_for===Ae.user_id,status:M.status,vehicleType:null===(a=M.vehicle_type)||void 0===a?void 0:a.vector})]})})})]}),(0,S.jsx)(l.Z,{children:(0,S.jsx)(o.Z,{lg:12,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsxs)("h4",{className:"header-title",onClick:function(){return Ue(!Re)},children:[" ",(0,S.jsx)("i",{className:Re?"mdi mdi-chevron-down me-1":"mdi mdi-chevron-right me-1"})," Anexos de Inspecci\xf3n"]}),(0,S.jsx)(u.Z,{in:Re,children:(0,S.jsx)("div",{className:"anexos-list",children:null===(n=M.attacheds)||void 0===n?void 0:n.filter((function(e){return"phisyc"===e.type})).map((function(e){return(0,S.jsxs)("div",{className:"anexo-item",children:[(0,S.jsx)("div",{className:"description",children:"undefined"===e.description?"":e.description}),(0,S.jsx)("div",{className:"img-container",children:(0,S.jsx)("img",{src:e.url,alt:""})})]},e.id)}))})})]})})})}),(0,S.jsx)(l.Z,{hidden:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,children:(0,S.jsx)(o.Z,{lg:12,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsx)("h4",{className:"header-title",children:"Sube Anexos"}),(0,S.jsx)(l.Z,{children:(0,S.jsx)(o.Z,{lg:12,children:(0,S.jsx)(b.Z,{ref:i,label:"Cargar fotos como anexos a la inspeccion del vehiculo",showPreview:!0,multi:!0,onFileUpload:function(e){pe(e)}})})})]})})})}),(0,S.jsx)(l.Z,{hidden:"Por recepcionar"===M.status,children:(0,S.jsx)(o.Z,{lg:12,children:(0,S.jsx)(d.Z,{children:(0,S.jsxs)(d.Z.Body,{children:[(0,S.jsxs)("div",{className:"d-flex justify-content-center align-items-center mb-2",children:[(0,S.jsx)("h4",{className:"header-title",children:"Firma del cliente"}),(0,S.jsxs)(v.rU,{hidden:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,to:"",className:"btn btn-blue rounded-pill w-md waves-effect waves-light ms-2",onClick:(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.current.clear();case 1:case"end":return e.stop()}}),e)}))),children:[(0,S.jsx)("i",{className:"mdi mdi-eraser me-1"}),"Limpiar"]})]}),(0,S.jsx)("div",{className:" d-flex justify-content-center",children:(0,S.jsx)(E(),{ref:w,penColor:"En recepci\xf3n"!==M.status?"white":"black",canvasProps:{width:500,height:200,className:"sigCanvas d-flex justify-content-center"}})})]})})})}),(0,S.jsx)(l.Z,{className:"sticky-buttons",children:(0,S.jsxs)(o.Z,{children:[(0,S.jsxs)(v.rU,{hidden:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,to:"#",className:"btn btn-blue rounded-pill w-md waves-effect waves-light mb-3",onClick:(0,t.Z)(c().mark((function e(){var a,n,r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),a=[],e.next=4,he.reduce(function(){var e=(0,t.Z)(c().mark((function e(n,t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return e.next=4,(0,C.DB)({file:t,description:t.description,name:t.newName});case 4:return 200===(r=e.sent).data.meta.code&&a.push(r.data.data),e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),Promise.resolve());case 4:return n=w.current.toDataURL(),e.next=7,(0,C.DB)({file:We(n),description:"Firma de cliente",name:Date.now()+".png"});case 7:return r=e.sent,e.next=10,(0,g.NY)({vehicleData:M.vehicle,templateData:U,appraisalId:M.appraisal_id,allUps:a,signUrl:r.data.data.url});case 10:200===(s=e.sent).data.meta.code?(i.current.clearFiles(),pe([]),Ve(M.appraisal_id)):y().fire("Error",s.data.data.error.message,"error"),fe(!1);case 13:case"end":return e.stop()}}),e)}))),children:[(0,S.jsx)("i",{className:"mdi mdi-content-save me-1"}),"Guardar"]}),(0,S.jsxs)(v.rU,{hidden:"En recepci\xf3n"!==M.status||M.valuated_for!==Ae.user_id,to:"#",className:"btn btn-success rounded-pill w-md waves-effect waves-light mb-3 ms-1",onClick:(0,t.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().fire({title:"\xbfEstas seguro de terminar el aval\xfao?",text:"Se dara por terminada la evaluci\xf3n f\xedsica",icon:"warning",showCancelButton:!0,confirmButtonColor:"#28bb4b",cancelButtonColor:"#f34e4e",confirmButtonText:"Si, Terminar!"});case 2:if(!e.sent.isConfirmed){e.next=10;break}return fe(!0),e.next=7,(0,g._0)({appraisalId:M.appraisal_id});case 7:a=e.sent,fe(!1),200===a.data.meta.code?we("/appraisal/appraisal",{replace:!0}):y().fire("Error",a.data.data.error.message,"error");case 10:case"end":return e.stop()}}),e)}))),children:[(0,S.jsx)("i",{className:"mdi mdi-check me-1"}),"Finalizar evaluaci\xf3n"]}),(0,S.jsxs)(v.rU,{hidden:"Por recepcionar"===M.status||"En recepci\xf3n"===M.status,to:"#",className:"btn btn-success rounded-pill w-md waves-effect waves-light mb-3 ms-1",onClick:(0,t.Z)(c().mark((function e(){var a,n,t,r,s,i,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().fire({title:"\xbfEstas seguro de enviar el correo?",text:"Se enviara toda la informaci\xf3n recolectada en la inspecci\xf3n al cliente.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#28bb4b",cancelButtonColor:"#f34e4e",confirmButtonText:"Si, Enviar!"});case 2:if(!e.sent.isConfirmed){e.next=20;break}return fe(!0),a=document.getElementById("canvas"),n=document.getElementById("canvas_bars"),t=a.toDataURL(),e.next=10,(0,C.DB)({file:We(t),description:"Avaluo",name:Date.now()+".png"});case 10:return r=e.sent,s=n.toDataURL(),e.next=14,(0,C.DB)({file:We(s),description:"Avaluo Bars",name:Date.now()+"_bars.png"});case 14:return i=e.sent,e.next=17,(0,g.jv)({appraisalId:M.appraisal_id,appraisal:r.data.data.url,bars:i.data.data.url});case 17:l=e.sent,fe(!1),200===l.data.meta.code&&y().fire("Enviado","Correo enviado con exito","success");case 20:case"end":return e.stop()}}),e)}))),children:[(0,S.jsx)("i",{className:"mdi mdi-send me-1"}),"Enviar correo"]}),(0,S.jsxs)(v.rU,{hidden:"Por recepcionar"===M.status||"En recepci\xf3n"===M.status,to:"#",className:"btn btn-success rounded-pill w-md waves-effect waves-light mb-3 ms-1",onClick:(0,t.Z)(c().mark((function e(){var a,n,t,r,s,i,l,o,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),a=document.getElementById("canvas"),n=document.getElementById("canvas_bars"),t=a.toDataURL(),e.next=6,(0,C.DB)({file:We(t),description:"Avaluo",name:Date.now()+".png"});case 6:return r=e.sent,s=n.toDataURL(),e.next=10,(0,C.DB)({file:We(s),description:"Avaluo Bars",name:Date.now()+"_bars.png"});case 10:return i=e.sent,e.next=13,(0,g.hI)({appraisalId:M.appraisal_id,appraisal:r.data.data.url,bars:i.data.data.url});case 13:l=e.sent,fe(!1),o=new Blob([We(l.data.data)],{type:"application/pdf"}),d=URL.createObjectURL(o),window.open(d,"blank");case 18:case"end":return e.stop()}}),e)}))),children:[(0,S.jsx)("i",{className:"mdi mdi-printer me-1"}),"Imprimir"]}),M.status&&(0,S.jsxs)(v.rU,{hidden:"Por recepcionar"!==M.status,to:"#",className:"ms-1 btn btn-info rounded-pill w-md waves-effect waves-light mb-3",onClick:(0,t.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().fire({title:"\xbfEstas seguro de iniciar el aval\xfao?",text:"Se te asignara este vehiculo y deberas completar la evaluci\xf3n f\xedsica",icon:"warning",showCancelButton:!0,confirmButtonColor:"#28bb4b",cancelButtonColor:"#f34e4e",confirmButtonText:"Si, Iniciar!"});case 2:if(!e.sent.isConfirmed){e.next=10;break}return fe(!0),e.next=7,(0,g.AB)({appraisalId:M.appraisal_id});case 7:a=e.sent,fe(!1),200===a.data.meta.code?Ve(M.appraisal_id):y().fire("Error",a.data.data.error.message,"error");case 10:case"end":return e.stop()}}),e)}))),children:[(0,S.jsx)("i",{className:"mdi mdi-content-paste me-1"}),"Iniciar evaluaci\xf3n"]})]})}),(0,S.jsx)(I.Z,{loading:ve})]})}}}]);
//# sourceMappingURL=5048.4db4124a.chunk.js.map