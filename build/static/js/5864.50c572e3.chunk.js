"use strict";(self.webpackChunkadminto_react=self.webpackChunkadminto_react||[]).push([[5864],{8851:function(e,n,r){var t=r(1413),a=r(93433),s=r(29439),c=r(72791),i=r(23922),l=r(9140),o=r(89743),u=r(2677),d=r(21827),p=r(18267),m=r(80184),f=(0,c.forwardRef)((function(e,n){var r=(0,c.useState)([]),f=(0,s.Z)(r,2),h=f[0],g=f[1];(0,c.useImperativeHandle)(n,(function(){return{clearFiles:function(){g([])}}}));var x=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var r=1024,t=n<0?0:n,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,s)).toFixed(t))+" "+a[s]},b=function(e){var n=(0,a.Z)(h);n.splice(e,1),g(n)};return(0,c.useEffect)((function(){e.onFileUpload&&e.onFileUpload(h)}),[h,e]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.ZP,(0,t.Z)((0,t.Z)({},e),{},{useFsAccessApi:!1,onDrop:function(n){return function(n){var r,t=n;e.showPreview&&((n||[]).map((function(e,n){return Object.assign(e,{preview:"image"===e.type.split("/")[0]?URL.createObjectURL(e):null,formattedSize:x(e.size),newName:Date.now()+"_"+n+"."+e.name.split(".")[1]})})),(r=t=(0,a.Z)(h)).push.apply(r,(0,a.Z)(n)),g(t))}(n)},children:function(n){var r=n.getRootProps,a=n.getInputProps;return(0,m.jsx)("div",{className:"dropzone mb-3 mt-3",children:(0,m.jsxs)("div",(0,t.Z)((0,t.Z)({className:"dz-message needsclick"},r()),{},{children:[(0,m.jsx)("input",(0,t.Z)({},a())),(0,m.jsx)("i",{className:"h3 text-muted dripicons-cloud-upload"}),(0,m.jsx)("h4",{children:e.label||"Drop files here or click to upload."})]}))})}})),!e.multi&&h.length>0&&(0,m.jsx)("div",{children:(0,m.jsxs)(l.Z,{className:"mt-3 mb-3 shadow-none border charge-image-container",children:[(0,m.jsx)("div",{className:"remove",onClick:function(){return b(0)},children:(0,m.jsx)("i",{className:"mdi mdi-trash-can-outline"})}),(0,m.jsx)("img",{className:"charge-image",alt:h[0].name,src:h[0].preview})]})}),e.multi&&e.showPreview&&(0,m.jsx)("div",{className:"dropzone-previews",id:"uploadPreviewTemplate",children:(h||[]).map((function(e,n){return(0,m.jsx)(l.Z,{className:"mt-1 mb-0 shadow-none border",children:(0,m.jsx)("div",{className:"p-2",children:(0,m.jsxs)(o.Z,{className:"",children:[e.preview&&(0,m.jsx)(u.Z,{className:"col-auto",children:(0,m.jsx)("img",{"data-dz-thumbnail":"",className:"avatar rounded bg-light file-preview",alt:e.name,src:e.preview})}),!e.preview&&(0,m.jsx)(u.Z,{className:"col-auto",children:(0,m.jsx)("div",{className:"avatar-sm",children:(0,m.jsx)("span",{className:"avatar-title bg-primary rounded",children:e.type.split("/")[0]})})}),(0,m.jsxs)(u.Z,{className:"ps-0",children:[(0,m.jsxs)(d.Z.Group,{className:"mb-3",controlId:"validationCustom01",children:[(0,m.jsx)(d.Z.Label,{children:"Descripcion"}),(0,m.jsx)(d.Z.Control,{required:!0,type:"text",placeholder:"Describe la foto aqui",onChange:function(n){g((0,a.Z)(h.map((function(r){return r.newName===e.newName&&(r.description=n.target.value),r}))))}})]}),(0,m.jsx)(i.rU,{to:"#",className:"text-muted fw-bold",children:e.newName}),(0,m.jsx)("p",{className:"mb-0",children:(0,m.jsx)("strong",{children:e.formattedSize})})]}),(0,m.jsx)(u.Z,{className:"text-end col-1",children:(0,m.jsx)(i.rU,{to:"#",className:"btn btn-link btn-lg text-muted shadow-none",children:(0,m.jsx)("i",{className:"dripicons-cross",onClick:function(){return b(n)}})})})]})})},n+"-file")}))})]})}));f.defaultProps={showPreview:!0},n.Z=f},13966:function(e,n,r){var t=r(29439),a=r(72791),s=r(39193),c=r(80184),i={display:"block",margin:"0 auto",borderColor:"red"};n.Z=function(e){var n=(0,a.useState)("#0351AA"),r=(0,t.Z)(n,1)[0];return(0,c.jsx)("div",{className:"container-loading",hidden:!e.loading,children:(0,c.jsx)(s.Z,{color:r,loading:e.loading,cssOverride:i,size:15})})}},9189:function(e,n,r){r.d(n,{Z:function(){return x}});var t=r(93433),a=r(1413),s=r(45987),c=r(29439),i=r(72791),l=r(71358),o=r(81694),u=r.n(o),d=r(23922),p=r(80184),m=function(e){var n=e.tableProps,r=e.sizePerPageList,t=(0,i.useState)(n.pageCount),a=(0,c.Z)(t,2),s=a[0],l=a[1],o=(0,i.useState)(n.state.pageIndex),m=(0,c.Z)(o,2),f=m[0],h=m[1];(0,i.useEffect)((function(){l(n.pageCount),h(n.state.pageIndex)}),[n.pageCount,n.state.pageIndex]);var g=(0,i.useCallback)((function(e,n){return e.filter((function(e){return e<=s}))}),[s]),x=(0,i.useCallback)((function(e,n){return n<7?g([1,2,3,4,5,6],n):e%5>=0&&e>4&&e+2<n?[1,e-1,e,e+1,n]:e%5>=0&&e>4&&e+2>=n?[1,n-3,n-2,n-1,n]:[1,2,3,4,5,n]}),[g]),b=function(e){if(e!==f+1){var r=x(e,s);N(g(r,s)),n.gotoPage(e-1)}};(0,i.useEffect)((function(){var e=x(null,s);N(e)}),[s,x]);var v=(0,i.useState)(x(null,s)),j=(0,c.Z)(v,2),Z=j[0],N=j[1],w=f+1;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1",children:[r.length>0&&(0,p.jsxs)("div",{className:"d-inline-block me-3",children:[(0,p.jsx)("label",{className:"me-1",children:"Mostrando :"}),(0,p.jsx)("select",{value:n.state.pageSize,onChange:function(e){n.setPageSize(Number(e.currentTarget.value))},className:"form-select d-inline-block w-auto",children:(r||[]).map((function(e,n){return(0,p.jsx)("option",{value:e.value,children:e.text},n.toString())}))})]}),(0,p.jsxs)("span",{className:"me-3",children:["P\xe1gina"," ",(0,p.jsxs)("strong",{children:[f+1," de ",n.pageOptions.length]})," "]}),(0,p.jsxs)("span",{className:"d-inline-block align-items-center text-sm-start text-center my-sm-0 my-2",children:[(0,p.jsx)("label",{className:"form-label",children:"Ir a la p\xe1gina: "}),(0,p.jsx)("input",{type:"number",value:f+1,min:"1",onChange:function(e){var r=e.currentTarget.value?Number(e.currentTarget.value)-1:0;n.gotoPage(r),h(n.state.pageIndex)},className:"form-control w-25 ms-1 d-inline-block"})]}),(0,p.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0",children:[(0,p.jsx)("li",{className:u()("page-item","paginate_button","previous",{disabled:1===w}),onClick:function(){1!==w&&b(w-1)},children:(0,p.jsx)(d.rU,{to:"#",className:"page-link",children:(0,p.jsx)("i",{className:"mdi mdi-chevron-left"})})},"prevpage"),(Z||[]).map((function(e,n,r){return r[n-1]+1<e?(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("li",{className:"page-item disabled d-none d-xl-inline-block",children:(0,p.jsx)(d.rU,{to:"#",className:"page-link",children:"..."})}),(0,p.jsx)("li",{className:u()("page-item","d-none","d-xl-inline-block",{active:w===e}),onClick:function(n){return b(e)},children:(0,p.jsx)(d.rU,{to:"#",className:"page-link",children:e})})]},e):(0,p.jsx)("li",{className:u()("page-item","d-none","d-xl-inline-block",{active:w===e}),onClick:function(n){return b(e)},children:(0,p.jsx)(d.rU,{to:"#",className:"page-link",children:e})},e)})),(0,p.jsx)("li",{className:u()("page-item","paginate_button","next",{disabled:w===n.pageCount}),onClick:function(){w!==n.pageCount&&b(w+1)},children:(0,p.jsx)(d.rU,{to:"#",className:"page-link",children:(0,p.jsx)("i",{className:"mdi mdi-chevron-right"})})},"nextpage")]})]})})},f=["indeterminate"],h=function(e){var n=e.preGlobalFilteredRows,r=e.globalFilter,t=e.setGlobalFilter,a=e.searchBoxClass,s=n.length,o=(0,i.useState)(r),d=(0,c.Z)(o,2),m=d[0],f=d[1],h=(0,l.useAsyncDebounce)((function(e){t(e||void 0)}),200);return(0,p.jsx)("div",{className:u()(a),children:(0,p.jsxs)("span",{className:"d-flex align-items-center",children:["Buscar :"," ",(0,p.jsx)("input",{type:"search",value:m||"",onChange:function(e){f(e.target.value),h(e.target.value)},placeholder:"".concat(s," registros..."),className:"form-control w-auto ms-1"})]})})},g=(0,i.forwardRef)((function(e,n){var r=e.indeterminate,t=(0,s.Z)(e,f),c=(0,i.useRef)(),l=n||c;return(0,i.useEffect)((function(){l.current.indeterminate=r}),[l,r]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",(0,a.Z)({type:"checkbox",className:"form-check-input",ref:l},t)),(0,p.jsx)("label",{htmlFor:"form-check-input",className:"form-check-label"})]})})})),x=function(e){var n=e.isSearchable||!1,r=e.isSortable||!1,s=e.pagination||!1,c=e.isSelectable||!1,i=e.isExpandable||!1,o=e.sizePerPageList||[],d={};n&&(d.useGlobalFilter=l.useGlobalFilter),r&&(d.useSortBy=l.useSortBy),i&&(d.useExpanded=l.useExpanded),s&&(d.usePagination=l.usePagination),c&&(d.useRowSelect=l.useRowSelect);var f=(0,l.useTable)({columns:e.columns,data:e.data,initialState:{pageSize:e.pageSize||10}},d.hasOwnProperty("useGlobalFilter")&&d.useGlobalFilter,d.hasOwnProperty("useSortBy")&&d.useSortBy,d.hasOwnProperty("useExpanded")&&d.useExpanded,d.hasOwnProperty("usePagination")&&d.usePagination,d.hasOwnProperty("useRowSelect")&&d.useRowSelect,(function(e){c&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var n=e.getToggleAllPageRowsSelectedProps;return(0,p.jsx)("div",{children:(0,p.jsx)(g,(0,a.Z)({},n()))})},Cell:function(e){var n=e.row;return(0,p.jsx)("div",{children:(0,p.jsx)(g,(0,a.Z)({},n.getToggleRowSelectedProps()))})}}].concat((0,t.Z)(e))})),i&&e.visibleColumns.push((function(e){return[{id:"expander",Header:function(e){var n=e.getToggleAllRowsExpandedProps,r=e.isAllRowsExpanded;return(0,p.jsx)("span",(0,a.Z)((0,a.Z)({},n()),{},{children:r?"-":"+"}))},Cell:function(e){var n=e.row;return n.canExpand?(0,p.jsx)("span",(0,a.Z)((0,a.Z)({},n.getToggleRowExpandedProps({style:{paddingLeft:"".concat(2*n.depth,"rem")}})),{},{children:n.isExpanded?"-":"+"})):null}}].concat((0,t.Z)(e))}))})),x=s?f.page:f.rows;return(0,p.jsxs)(p.Fragment,{children:[n&&(0,p.jsx)(h,{preGlobalFilteredRows:f.preGlobalFilteredRows,globalFilter:f.state.globalFilter,setGlobalFilter:f.setGlobalFilter,searchBoxClass:e.searchBoxClass}),(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",(0,a.Z)((0,a.Z)({},f.getTableProps()),{},{className:u()("table table-centered react-table",e.tableClass),children:[(0,p.jsx)("thead",{className:e.theadClass,children:(f.headerGroups||[]).map((function(e){return(0,p.jsx)("tr",(0,a.Z)((0,a.Z)({},e.getHeaderGroupProps()),{},{children:(e.headers||[]).map((function(e){return(0,p.jsx)("th",(0,a.Z)((0,a.Z)({},e.getHeaderProps(e.sort&&e.getSortByToggleProps())),{},{className:u()({sorting_desc:!0===e.isSortedDesc,sorting_asc:!1===e.isSortedDesc,sortable:!0===e.sort}),children:e.render("Header")}))}))}))}))}),(0,p.jsx)("tbody",(0,a.Z)((0,a.Z)({},f.getTableBodyProps()),{},{children:(x||[]).map((function(e,n){return f.prepareRow(e),(0,p.jsx)("tr",(0,a.Z)((0,a.Z)({},e.getRowProps()),{},{children:(e.cells||[]).map((function(e){return(0,p.jsx)("td",(0,a.Z)((0,a.Z)({},e.getCellProps([{className:e.column.className}])),{},{children:e.render("Cell")}))}))}))}))}))]}))}),s&&(0,p.jsx)(m,{tableProps:f,sizePerPageList:o})]})}},9823:function(e,n,r){var t=r(1413),a=r(29439),s=r(45987),c=r(72791),i=r(99410),l=r(21827),o=r(81694),u=r.n(o),d=r(80184),p=["name","placeholder","refCallback","errors","control","register","className"],m=["type","name","placeholder","endIcon","register","errors","comp","rows","className","refCallback"],f=["type","label","name","placeholder","register","errors","comp","rows","className","refCallback"],h=["type","label","name","placeholder","register","errors","comp","className","children","refCallback"],g=["label","type","name","placeholder","endIcon","register","errors","control","className","labelClassName","containerClass","refCallback","children","action","rows"],x=function(e){var n=e.name,r=e.placeholder,o=e.refCallback,m=e.errors,f=(e.control,e.register),h=e.className,g=(0,s.Z)(e,p),x=(0,c.useState)(!1),b=(0,a.Z)(x,2),v=b[0],j=b[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i.Z,{className:"mb-0",children:[(0,d.jsx)(l.Z.Control,(0,t.Z)((0,t.Z)({type:v?"text":"password",placeholder:r,name:n,id:n,as:"input",ref:function(e){o&&o(e)},className:h,isInvalid:!(!m||!m[n])},f?f(n):{}),{},{autoComplete:n},g)),(0,d.jsx)("div",{className:u()("input-group-text","input-group-password",{"show-password":v}),"data-password":v?"true":"false",children:(0,d.jsx)("span",{className:"password-eye",onClick:function(){j(!v)}})})]}),m&&m[n]?(0,d.jsx)(l.Z.Control.Feedback,{type:"invalid",className:"d-block",children:m[n].message}):null]})},b=function(e){var n=e.type,r=e.name,a=e.placeholder,c=e.endIcon,i=e.register,o=e.errors,u=e.comp,p=e.rows,f=e.className,h=e.refCallback,g=(0,s.Z)(e,m);return(0,d.jsx)(d.Fragment,{children:"password"===n&&c?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(x,(0,t.Z)({name:r,placeholder:a,refCallback:h,errors:o,register:i,className:f},g))}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z.Control,(0,t.Z)((0,t.Z)({type:n,placeholder:a,name:r,as:u,id:r,ref:function(e){h&&h(e)},className:f,isInvalid:!(!o||!o[r])},i?i(r):{}),{},{rows:p},g)),o&&o[r]?(0,d.jsx)(l.Z.Control.Feedback,{type:"invalid",className:"d-block",children:o[r].message}):null]})})},v=function(e){var n=e.type,r=e.label,a=e.name,c=(e.placeholder,e.register),i=e.errors,o=(e.comp,e.rows,e.className),u=e.refCallback,p=(0,s.Z)(e,f);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z.Check,(0,t.Z)((0,t.Z)({type:n,label:r,name:a,id:a,ref:function(e){u&&u(e)},className:o,isInvalid:!(!i||!i[a])},c?c(a):{}),p)),i&&i[a]?(0,d.jsx)(l.Z.Control.Feedback,{type:"invalid",className:"d-block",children:i[a].message}):null]})},j=function(e){var n=e.type,r=e.label,a=e.name,c=(e.placeholder,e.register),i=e.errors,o=(e.comp,e.className),u=e.children,p=e.refCallback,m=(0,s.Z)(e,h);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z.Select,(0,t.Z)((0,t.Z)({type:n,label:r,name:a,id:a,ref:function(e){p&&p(e)},children:u,className:o,isInvalid:!(!i||!i[a])},c?c(a):{}),m)),i&&i[a]?(0,d.jsx)(l.Z.Control.Feedback,{type:"invalid",children:i[a].message}):null]})};n.Z=function(e){var n=e.label,r=e.type,a=e.name,c=e.placeholder,i=e.endIcon,o=e.register,u=e.errors,p=(e.control,e.className),m=e.labelClassName,f=e.containerClass,h=e.refCallback,x=e.children,Z=e.action,N=e.rows,w=(0,s.Z)(e,g),y="textarea"===r?"textarea":"select"===r?"select":"input",C=void 0===i||i;return(0,d.jsx)(d.Fragment,{children:"hidden"===r?(0,d.jsx)("input",(0,t.Z)((0,t.Z)({type:r,name:a},o?o(a):{}),w)):(0,d.jsx)(d.Fragment,{children:"select"===r?(0,d.jsxs)(l.Z.Group,{className:f,children:[n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z.Label,{className:m,children:n}),Z&&Z]}):null,(0,d.jsx)(j,(0,t.Z)({type:r,name:a,placeholder:c,refCallback:h,errors:u,register:o,comp:y,className:p,children:x},w))]}):(0,d.jsx)(d.Fragment,{children:"checkbox"===r||"radio"===r?(0,d.jsx)(l.Z.Group,{className:f,children:(0,d.jsx)(v,(0,t.Z)({type:r,label:n,name:a,placeholder:c,refCallback:h,errors:u,register:o,comp:y,className:p,rows:N},w))}):(0,d.jsxs)(l.Z.Group,{className:f,children:[n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z.Label,{className:m,children:n}),Z&&Z]}):null,(0,d.jsx)(b,(0,t.Z)({type:r,name:a,placeholder:c,endIcon:C,refCallback:h,errors:u,register:o,comp:y,className:p,rows:N},w))]})})})})}},95262:function(e,n,r){r.d(n,{y:function(){return l.Z},J:function(){return i}});var t=r(1413),a=r(72791),s=r(61134),c=r(80184),i=function(e){var n=e.defaultValues,r=e.resolver,i=e.children,l=e.onSubmit,o=e.formClass,u=(0,s.cI)({defaultValues:n,resolver:r}),d=u.handleSubmit,p=u.register,m=u.control,f=u.formState.errors;return(0,c.jsx)("form",{onSubmit:d(l),className:o,noValidate:!0,children:Array.isArray(i)?i.map((function(e){return e.props&&e.props.name?a.createElement(e.type,(0,t.Z)({},(0,t.Z)((0,t.Z)({},e.props),{},{register:p,key:e.props.name,errors:f,control:m}))):e})):i})},l=r(9823)},70751:function(e,n,r){r.d(n,{Bd:function(){return g},Z$:function(){return x},iI:function(){return m},p_:function(){return f},f9:function(){return h},qL:function(){return a},m5:function(){return s},h0:function(){return c},QS:function(){return l},MZ:function(){return o},ap:function(){return u},gB:function(){return d},fS:function(){return i},hm:function(){return p}});var t=new(r(42738).u);function a(e){return t.get("".concat("/invoices"),e)}function s(e){var n="/invoicesById/"+e;return t.get("".concat(n),{})}function c(e){return t.create("".concat("/invoices/validate"),e)}function i(e){return t.create("".concat("/invoices/cancel"),e)}function l(){return t.get("".concat("/getAllSarSetting"),{})}function o(){return t.get("".concat("/branches"),{})}function u(e){return t.create("".concat("/createBranch"),e)}function d(e){return t.create("".concat("/createSarSetting"),e)}function p(e){return t.create("".concat("/invoices/addExoneration"),e)}function m(e){return t.create("".concat("/invoices/addLine"),e)}function f(e){return t.create("".concat("/invoices/editLine"),e)}function h(e){return t.create("".concat("/invoices/removeLine"),e)}function g(e){return t.create("".concat("/invoices/sendEmail"),e)}function x(e){return t.create("".concat("/invoices/create"),e)}},90260:function(e,n,r){r.d(n,{wK:function(){return a},JL:function(){return c},sx:function(){return u},eb:function(){return i},DB:function(){return d},uG:function(){return s},qs:function(){return l},Sb:function(){return o}});var t=new(r(42738).u);function a(e){return t.create("".concat("/createCustomer"),e)}function s(e){return t.updatePatch("".concat("/updateCustomer"),e)}function c(e){return t.get("".concat("/getAllCustomers"),e)}function i(e){return t.get("".concat("/getAllAppraisal"),e)}function l(e){var n="/getByPlate/"+e.plate;return t.get("".concat(n),{})}function o(e){var n="/getByVin/"+e.vin;return t.get("".concat(n),{})}function u(e){return t.create("".concat("/reception"),e)}function d(e){return t.createWithFile("".concat("/uploadFile"),e)}},37893:function(e,n,r){r.d(n,{Ae:function(){return a},T$:function(){return s},c3:function(){return c},Mx:function(){return i},o_:function(){return l},cV:function(){return o},dI:function(){return u},Ug:function(){return d},lv:function(){return p},XU:function(){return m},Uy:function(){return f},Vg:function(){return h},kj:function(){return g},cn:function(){return x},Nq:function(){return b},Rf:function(){return v},eR:function(){return j},_y:function(){return Z},kZ:function(){return N},EW:function(){return w}});var t=new(r(42738).u);function a(e){return t.create("".concat("/vehicleType/create"),e)}function s(e){return t.updatePatch("".concat("/vehicleType/update"),e)}function c(e){return t.get("".concat("/vehicleTypes"),e)}function i(e){return t.updatePatch("".concat("/updateSarSetting"),e)}function l(e){return t.create("".concat("/updateBranch"),e)}function o(e){return t.get("".concat("/vehicleFields"),e)}function u(e){return t.get("".concat("/getVehicleTypeById"),e)}function d(e){return t.updatePatch("".concat("/evaluationItem/update"),e)}function p(e){return t.create("".concat("/evaluationItem/create"),e)}function m(e){return t.create("".concat("/evaluationList/create"),e)}function f(e){return t.updatePatch("".concat("/inspectionItem/update"),e)}function h(e){return t.create("".concat("/inspectionItem/create"),e)}function g(e){return t.create("".concat("/inspectionList/create"),e)}function x(e){return t.create("".concat("/user/create"),e)}function b(e){return t.updatePatch("".concat("/user/update"),e)}function v(){return t.get("".concat("/users"),{})}function j(){return t.get("".concat("/userTypes"),{})}function Z(e){return t.create("".concat("/insurer/create"),e)}function N(e){return t.updatePatch("".concat("/insurer/update"),e)}function w(){return t.get("".concat("/insurers"),{})}},35864:function(e,n,r){r.r(n),r.d(n,{default:function(){return I}});var t=r(1413),a=r(15861),s=r(29439),c=r(64687),i=r.n(c),l=r(89743),o=r(2677),u=r(9140),d=r(9189),p=r(23922),m=r(51649),f=r(95316),h=r(43360),g=r(95262),x=r(61265),b=r(76863),v=r(8851),j=r(72791),Z=r(90260),N=r(37893),w=r(21830),y=r.n(w),C=r(80184),k=function(e){var n=e.user,r=e.types,c=e.branches,l=e.toggle,o=e.modal,u=e.action,d=(0,j.useState)([]),p=(0,s.Z)(d,2),m=p[0],w=p[1],k=(0,x.X)(b.Ry().shape({userTypeId:b.Z_().required("Por favor seleccione el tipo de usuario"),branchId:b.Z_().required("Por favor seleccione la sucursal"),name:b.Z_().required("Por favor ingrese el nombre"),email:b.Z_().required("Por favor ingrese el correo")})),P=function(){return"edit"===u?"Guardar":"Agregar"};return(0,C.jsxs)(f.Z,{show:o,onHide:l,centered:!0,children:[(0,C.jsx)(f.Z.Header,{closeButton:!0,children:(0,C.jsx)(f.Z.Title,{as:"h4",children:"Agregar usuario"})}),(0,C.jsx)(f.Z.Body,{children:(0,C.jsxs)(g.J,{onSubmit:function(){var e=(0,a.Z)(i().mark((function e(n){var r,t,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={name:n.name,userTypeId:n.userTypeId,branchId:n.branchId,email:n.email,password:n.password},!m[0]){e.next=8;break}return e.next=4,(0,Z.DB)({file:m[0],description:m[0].description,name:m[0].newName});case 4:t=e.sent,r.profilePic=t.data.data.url,e.next=9;break;case 8:r.profilePic=n.profile_picture_url;case 9:if("Agregar"!==P()){e.next=16;break}return e.next=12,(0,N.cn)(r);case 12:200===(a=e.sent).data.meta.code?l(!0):y().fire("Error",a.data.data.error.message,"error"),e.next=21;break;case 16:return r.userId=n.user_id,e.next=19,(0,N.Nq)(r);case 19:200===(s=e.sent).data.meta.code?l(!0):y().fire("Error",s.data.data.error.message,"error");case 21:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),resolver:k,defaultValues:(0,t.Z)({},n),children:[(0,C.jsx)(g.y,{label:"Tipo de usuario",type:"select",name:"userTypeId",containerClass:"mb-3",className:"form-select",children:(r||[]).map((function(e){return(0,C.jsx)("option",{value:e.user_type_id,children:e.name},"ut_"+e.user_type_id)}))},"select0"),(0,C.jsx)(g.y,{label:"Sucursal",type:"select",name:"branchId",containerClass:"mb-3",className:"form-select",children:(c||[]).map((function(e){return(0,C.jsx)("option",{value:e.branch_id,children:e.name},"b_"+e.branch_id)}))},"select1"),(0,C.jsx)(g.y,{label:"Nombre",type:"text",name:"name",placeholder:"Ingrese el nombre",containerClass:"mb-3"}),(0,C.jsx)(g.y,{label:"Correo",type:"text",name:"email",placeholder:"Ingrese el correo",containerClass:"mb-3"}),(0,C.jsx)(g.y,{label:"Contrase\xf1a",type:"password",name:"password",placeholder:"Ingrese la Contrase\xf1a",containerClass:"mb-3"}),(0,C.jsx)("div",{className:"vector-img",hidden:!n.profile_picture_url||"picture"===n.profile_picture_url,children:(0,C.jsx)("img",{src:n.profile_picture_url,alt:"asd"})}),(0,C.jsx)(v.Z,{label:n.profile_picture_url&&"picture"!==n.profile_picture_url?"Actualizar foto de perfil":"Cargar foto de perfil",showPreview:!0,multi:!1,onFileUpload:function(e){w(e)}}),(0,C.jsx)(h.Z,{variant:"primary",className:"waves-effect waves-light me-1 rounded-pill",type:"submit",children:P()}),(0,C.jsx)(h.Z,{variant:"light",className:"waves-effect waves-light rounded-pill",onClick:l,children:"Cancelar"})]})})]})},P={id:0,branch_id:0,user_type_id:0,name:"",password:"",email:"",created_date:new Date},S=r(70751),_=r(13966),F=[{text:"5",value:5},{text:"10",value:10},{text:"25",value:25}],I=function(){var e=(0,j.useState)(!1),n=(0,s.Z)(e,2),r=n[0],c=n[1],f=(0,j.useState)("create"),h=(0,s.Z)(f,2),g=h[0],x=h[1],b=(0,j.useState)(P),v=(0,s.Z)(b,2),Z=v[0],w=v[1],y=(0,j.useState)([]),I=(0,s.Z)(y,2),B=I[0],T=I[1],R=(0,j.useState)([]),E=(0,s.Z)(R,2),A=E[0],G=E[1],z=(0,j.useState)([]),L=(0,s.Z)(z,2),U=L[0],H=L[1],D=(0,j.useState)(!1),q=(0,s.Z)(D,2),M=q[0],O=q[1],V=function(e){r&&(w({}),e&&W()),c(!r)},J=[{Header:"ID",accessor:"user_id",sort:!0},{Header:"Tipo de usuario",accessor:"user_type_name",sort:!0},{Header:"Nombre",accessor:"name",sort:!1},{Header:"Correo",accessor:"email",sort:!0},{Header:"Acciones",id:"edit",accessor:"id",Cell:function(e){var n=e.row.original;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("button",{className:"btn btn-blue ml-2",onClick:function(){K(n)},children:(0,C.jsx)("i",{className:"mdi mdi-lead-pencil"})})})}}],K=function(){var e=(0,a.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(n),x("edit"),V();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,m.Tt)({title:"Usuarios",breadCrumbItems:[{path:"/settings/users",label:"Configuraci\xf3n"},{path:"/settings/users",label:"Usuarios",active:!0}]});var W=function(){var e=(0,a.Z)(i().mark((function e(){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,(0,N.eR)();case 3:return n=e.sent,G(n.data.data),e.next=7,(0,S.MZ)();case 7:return r=e.sent,H(r.data.data),e.next=11,(0,N.Rf)();case 11:a=e.sent,T(a.data.data.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{user_type_name:n.data.data.find((function(n){return n.user_type_id===e.user_type_id})).name,userTypeId:e.user_type_id,branchId:e.branch_id})}))),O(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.useEffect)((function(){W()}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.Z,{children:(0,C.jsx)(o.Z,{sm:4,children:(0,C.jsxs)(p.rU,{to:"#",onClick:function(){V(!1)},className:"btn btn-blue rounded-pill w-md waves-effect waves-light mb-3",children:[(0,C.jsx)("i",{className:"mdi mdi-plus me-1"}),"Agregar"]})})}),(0,C.jsx)(l.Z,{children:(0,C.jsx)(o.Z,{children:(0,C.jsx)(u.Z,{children:(0,C.jsxs)(u.Z.Body,{children:[(0,C.jsx)("h4",{className:"header-title",children:"Lista de usuarios"}),(0,C.jsx)(d.Z,{columns:J,data:B,pageSize:5,sizePerPageList:F,isSortable:!0,pagination:!0,isSearchable:!0})]})})})}),(0,C.jsx)(_.Z,{loading:M}),(0,C.jsx)(k,{user:Z,types:A,branches:U,toggle:V,action:g,modal:r})]})}}}]);
//# sourceMappingURL=5864.50c572e3.chunk.js.map